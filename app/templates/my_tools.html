{% extends "base.html" %}  {# Inherit from the base template to maintain consistent structure and styles #}

{% block title %}My Tools{% endblock %}  {# Set the title of the page to "My Tools" for display in the browser tab #}

{% block content %}  {# Define the content block to insert specific content for the My Tools page #}
<div class="container">  {# Use Bootstrap's container class to center and add padding around the content #}
    <h2 class="mt-4">My Tools</h2>  {# Page heading with a top margin to separate it from the top of the container #}

    <!-- Form to add a new tool to the user's collection -->
    <form method="POST" action="{{ url_for('user.my_tools') }}">  {# Use POST method to securely submit form data to the my_tools endpoint #}
        {{ form.hidden_tag() }}  {# CSRF token for security (generated by Flask-WTF) #}

        <!-- Form group for the tool name input -->
        <div class="form-group">
            {{ form.name.label(class="form-label") }}  {# Render the label for the tool name field with Bootstrap's form-label class #}
            {{ form.name(class="form-control") }}  {# Render the tool name input field with Bootstrap styling #}
        </div>

        <!-- Form group for the unit selection -->
        <div class="form-group">
            {{ form.unit.label(class="form-label") }}  {# Render the label for the unit selection field #}
            {{ form.unit(class="form-control") }}  {# Render the unit selection drop-down with Bootstrap styling #}
        </div>

        <!-- Submit button for adding a tool -->
        <div class="form-group">
            {{ form.submit(class="btn btn-primary") }}  {# Render the submit button with Bootstrap's primary button styling #}
        </div>
    </form>

    <!-- Display list of existing tools -->
    <h3 class="mt-4">Existing Tools</h3>  {# Section heading for the list of existing tools #}
    <ul class="list-group">
        {% for tool in tools %}  {# Loop through each tool in the "tools" list provided by the view function #}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ tool.name }} - {{ tool.unit }}  {# Display the tool name and its associated unit #}
                
                <!-- Form to delete the tool, submitted when the delete button is clicked -->
                <form method="POST" action="{{ url_for('user.delete_tool', tool_id=tool.id) }}" style="display:inline;">
                    <button type="submit" class="btn btn-danger btn-sm">Delete</button>  {# Render the delete button with Bootstrap's danger button styling (red) #}
                </form>
            </li>
        {% endfor %}  {# End of the for loop to iterate through all tools #}
    </ul>
</div>
{% endblock %}  {# End of the content block #}
