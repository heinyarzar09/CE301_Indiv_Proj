{% extends "base.html" %}  {# Inherit from the base template to maintain consistent structure and styles #}

{% block title %}Automatic Recipe Conversion{% endblock %}  {# Set the page title to "Automatic Recipe Conversion" for display in the browser tab #}

{% block content %}  {# Define the content block to insert specific content for the Automatic Recipe Conversion page #}
<div class="container">  {# Use Bootstrap's container class to center and add padding around the content #}
    <h2 class="mt-4">Automatic Recipe Conversion</h2>  {# Page heading with a top margin to add space above the content #}

    <!-- Form to handle automatic recipe conversion -->
    <form method="POST" action="{{ url_for('user.automatic_conversion') }}">  {# Use POST method to securely submit form data to the automatic_conversion endpoint #}
        {{ form.hidden_tag() }}  {# CSRF token for security (generated by Flask-WTF) #}

        <!-- Form group for the recipe text input -->
        <div class="form-group">
            {{ form.recipe_text.label(class="form-label") }}  {# Render the label for the recipe text area with Bootstrap's form-label class #}
            {{ form.recipe_text(class="form-control") }}  {# Render the text area for entering the recipe with Bootstrap styling #}
        </div>

        <!-- Form group for selecting the unit to convert to -->
        <div class="form-group">
            {{ form.to_unit.label(class="form-label") }}  {# Render the label for the unit selection field #}
            {{ form.to_unit(class="form-control") }}  {# Render the drop-down selection field for units with Bootstrap styling #}
        </div>

        <!-- Submit button for the conversion form -->
        <div class="form-group">
            {{ form.submit(class="btn btn-primary") }}  {# Render the submit button with Bootstrap's primary button styling (blue button for main action) #}
        </div>
    </form>

    <!-- Display the converted recipe if it is available -->
    {% if converted_recipe %}  {# Check if there is a converted recipe to display #}
        <h3 class="mt-4">Converted Recipe:</h3>  {# Heading for the converted recipe with a top margin for spacing #}
        <p>{{ converted_recipe }}</p>  {# Display the converted recipe text #}
    {% endif %}
</div>
{% endblock %}  {# End of the content block #}
